# Примитивная база данных

Проект для управления простыми таблицами через командный интерфейс.

- ## Установка

pip install project2-gindullina-regina-m25-555

 - ## Использование
### Запуск программы:

database

  
### Основные команды:
#### Управление таблицами:
 - create_table <имя> <столбец1:тип> ...   - создать таблицу  
 - list_tables                             - список таблиц  
 - drop_table <имя>                        - удалить таблицу  
 - describe <имя>                          - структура таблицы  

#### CRUD операции:

 - insert <таблица> <значение1> <значение2> ...  - добавить запись  
 - select <таблица> [where условие]              - выбрать записи  
 - update <таблица> set ... [where условие]      - обновить записи  
 - delete <таблица> [where условие]              - удалить записи  
 - delete_all <таблица>                          - удалить ВСЕ записи  


#### Общие команды:
help  - справка по командам  
exit  - выход из программы  

  
### Поддерживаемые типы данных:
 - int - целые числа
 - str - строки
 - bool - логические значения

**Примечание:** Столбец *ID:int* автоматически добавляется ко всем таблицам.

 - ## Пример работы
### 1. Создание таблицы и работа с данными

**Создаем таблицу**  
create_table users name:str age:int is_active:bool

**Добавляем записи**
insert users 'Иван Иванов' 25 true
insert users 'Мария Петрова' 30 true
insert users 'Алексей Сидоров' 22 false

**Просматриваем все записи**
select users

**Выбираем по условию**
select users where age > 25
select users where is_active = true

**Обновляем запись**
update users set age = 26 where name = 'Иван Иванов'

**Удаляем запись**
delete users where name = 'Алексей Сидоров'

**Просматриваем структуру таблицы**
describe users

**Удаляем таблицу**
drop_table users



## Декораторы и замыкания

### Декоратор handle_db_errors
- Автоматически обрабатывает ошибки: KeyError, ValueError, FileNotFoundError
- Устраняет дублирование try-except блоков
- Применен ко всем функциям работы с БД

### Декоратор confirm_action
- Запрашивает подтверждение для опасных операций
- Применен к функциям `drop_table` и `delete`
- Пример: `Выполнить "удаление таблицы"? [y/n]:`

### Декоратор log_time
- Измеряет время выполнения функций
- Применен к `select` и `insert`
- Выводит: `Функция select выполнилась за 0.123 секунд`

### Замыкание create_cacher
- Кэширует результаты запросов `select`
- Ускоряет повторные идентичные запросы
- Использует замыкание для хранения кэша

## Пример работы с кэшированием
select users where age = 25  
Сохранено в кэш для ключа: ('users', (('age', 25),))  
...  
select users where age = 25  
Используется кэш для ключа: ('users', (('age', 25),))  
...  
  
## Структура проекта
src/  
├── decorators.py          # Модуль с декораторами  
├── primitive_db/  
│   ├── __init__.py  
│   ├── main.py  
│   ├── core.py           # Ядро БД с примененными декораторами  
│   ├── engine.py         # Командный процессор  
│   ├── parser.py         # Парсер команд  
│   └── utils.py          # Вспомогательные функции  
pyproject.toml  
README.md  